const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application.json",
};

  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions, and suggest itinerary with placeName, Place Details, Place image Urls, Geo Coordinates, ticket Pricing, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a Las Vegas travel plan for a couple on a budget, formatted in JSON.  I've focused on free and affordable activities, cheap eats, and budget-friendly hotel options.\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $70 per night (depending on season and deals)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1a/a6/9f/79/circus-circus-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1262,\n        \"longitude\": -115.1665\n      },\n      \"rating\": 3.0,\n      \"description\": \"A budget-friendly option on the Strip with a circus theme, free circus acts, and a large amusement park (Adventuredome) - though rides cost extra. Rooms are basic but clean. Expect crowds.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $80 per night (depending on season and deals)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/8a/13/61/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 3.5,\n      \"description\": \"Another budget-friendly choice with a medieval theme. It's located at the southern end of the Strip and offers affordable dining options and a pool area. Rooms are decent for the price.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$40 - $90 per night (depending on season and deals)\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/8c/73/d8/luxor-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 3.5,\n      \"description\": \"Easily recognizable for its pyramid shape, Luxor offers affordable rooms and a variety of entertainment options. It's located near the Excalibur and Mandalay Bay, making it easy to explore the southern end of the Strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South to Mid-Strip)\",\n      \"bestTimeToVisit\": \"Late Afternoon/Evening (cooler temperatures, lights)\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity.  Free.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/10/03/de/f3/welcome-to-fabulous.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"15 min drive from hotels listed\",\n          \"duration\": \"30 mins - 1 hour\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful themed displays change seasonally. Free.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/attraction_photos/s/04/1e/04/71/bellagio-conservatory-and.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Walking distance or bus from southern Strip hotels\",\n          \"duration\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water show set to music.  Free.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/15/94/5c/b8/bellagio-fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1738\n          },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"Located in front of Bellagio\",\n          \"duration\": \"30 mins (watch several shows)\"\n        },\n           {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Enjoy a panoramic view of the city in the Observation Wheel\",\n          \"placeImageUrl\": \"https://cdn.getyourguide.com/img/location/54c9431313dd1.jpeg/88.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.117,\n            \"longitude\": -115.169\n          },\n          \"ticketPricing\": \"$25 - $37\",\n          \"travelTime\": \"10 mins drive from the Bellagio Fountains\",\n          \"duration\": \"30 mins\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas (Fremont Street) & Cheap Eats\",\n      \"bestTimeToVisit\": \"Evening (Fremont Street Experience lights up)\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light show, street performers, and casinos. Free to walk around.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/7f/33/a6/fremont-street-experience.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free (unless you participate in paid activities)\",\n          \"travelTime\": \"20-30 minute drive or bus ride from the Strip\",\n          \"duration\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"Controversial restaurant with extremely high-calorie food.  Experience only.  Pricey for what it is.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/04/80/83/6a/heart-attack-grill.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1705,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"$15-$30 per person\",\n          \"travelTime\": \"Located on Fremont Street\",\n          \"duration\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"Gold and Silver Pawn Shop\",\n          \"placeDetails\": \"Made Famous By the Pawn Stars TV show\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/03/c9/ae/43/gold-silver-pawn-shop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1669,\n            \"longitude\": -115.1513\n          },\n          \"ticketPricing\": \"Free Entry\",\n          \"travelTime\": \"5 mins drive from the Fremont Street\",\n          \"duration\": \"2-3 hours\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Hoover Dam and Relaxation\",\n      \"bestTimeToVisit\": \"Morning (before it gets too hot)\",\n      \"places\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Massive dam offering tours and views.  Drive is scenic.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/15/3b/16/e5/hoover-dam.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0157,\n            \"longitude\": -114.7372\n          },\n          \"ticketPricing\": \"$10-$30 for tours\",\n          \"travelTime\": \"45-minute to 1-hour drive from Las Vegas\",\n          \"duration\": \"3-4 hours (including travel time)\"\n        },\n        {\n          \"placeName\": \"Hotel Pool\",\n          \"placeDetails\": \"Relax by the pool, enjoy the sun (if weather permits).\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/8c/7a/9b/luxor-hotel-casino.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0956,\n            \"longitude\": -115.1759\n          },\n          \"ticketPricing\": \"Free (if you are a hotel guest)\",\n          \"travelTime\": \"N/A\",\n          \"duration\": \"Afternoon\"\n        },\n        {\n            \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n            \"placeDetails\": \"Free chocolate factory tour and a botanical cactus garden\",\n            \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/19/c9/ff/14/ethel-m-chocolate-factory.jpg\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.0333,\n                \"longitude\": -115.0372\n            },\n            \"ticketPricing\": \"Free (chocolate purchase extra)\",\n            \"travelTime\": \"20-minute drive from the Las Vegas Strip\",\n            \"duration\": \"1-2 hours\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Important Considerations for Budget Travelers:**\n\n*   **Timing is Key:**  Avoid peak season (weekends, holidays, major events) for lower hotel rates. Mid-week stays are often cheaper.\n*   **Transportation:**  Walking is your friend on the Strip.  The Deuce bus is a cost-effective way to get around.  Consider ride-sharing (Uber/Lyft) for convenience, but costs can add up.\n*   **Food:**  Look for happy hour specials, buffets (though prices have increased), and off-Strip dining options for more affordable meals.  Consider bringing snacks and drinks to save money.  Fast food restaurants abound.\n*   **Free Activities:**  Focus on free attractions like the Bellagio fountains, conservatory, walking the Strip, and the Fremont Street Experience.\n*   **Gambling:** Set a strict budget and stick to it! Gambling can quickly derail a budget trip.\n*   **Hotel Fees:** Be aware of resort fees, which are often charged per night at Las Vegas hotels.  Factor these into your overall cost.\n\nThis JSON provides a framework.  You'll need to adapt it based on your specific interests and the current prices when you travel.  Enjoy your trip to Las Vegas!\n"},
        ],
      },
    ],
});

